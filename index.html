<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Zap Web</title>
<style>
body{
margin:0;
font-family:Arial;
background:#0b141a;
color:white;
}

.container{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.box{
background:#111b21;
padding:25px;
border-radius:12px;
width:300px;
text-align:center;
}

input{
width:100%;
padding:10px;
margin:10px 0;
border-radius:6px;
border:none;
}

button{
background:#25D366;
border:none;
padding:10px;
width:100%;
border-radius:6px;
font-weight:bold;
cursor:pointer;
}

.chat{
display:none;
height:100vh;
flex-direction:column;
}

.header{
background:#202c33;
padding:15px;
font-weight:bold;
}

.messages{
flex:1;
padding:10px;
overflow-y:auto;
}

.message{
background:#005c4b;
padding:8px;
border-radius:8px;
margin:5px 0;
max-width:70%;
}

.input-area{
display:flex;
padding:10px;
background:#202c33;
}

.input-area input{
flex:1;
margin:0;
margin-right:5px;
}

</style>
</head>
<body>

<div class="container" id="loginBox">
<div class="box">
<h2>Entrar</h2>

<input type="text" id="phone" placeholder="Número">

<button onclick="sendCode()">Enviar código</button>

<input type="text" id="code" placeholder="Digite o código">

<button onclick="verifyCode()">Verificar</button>

<p id="msg"></p>
</div>
</div>

<div class="chat" id="chatArea">
<div class="header">Zap Web</div>

<div class="messages" id="messages"></div>

<div class="input-area">
<input type="text" id="chatInput" placeholder="Digite uma mensagem">
<button onclick="sendMessage()">Enviar</button>
</div>
</div>

<script>

let generatedCode;

function sendCode(){
let phone = document.getElementById("phone").value;

if(phone.length < 8){
document.getElementById("msg").innerText = "Número inválido";
return;
}

generatedCode = Math.floor(100000 + Math.random() * 900000);

alert("Seu código é: " + generatedCode);

document.getElementById("msg").innerText = "Código gerado!";
}

function verifyCode(){
let code = document.getElementById("code").value;

if(code == generatedCode){
localStorage.setItem("logged","true");
startChat();
}else{
document.getElementById("msg").innerText = "Código errado!";
}
}

function startChat(){
document.getElementById("loginBox").style.display = "none";
document.getElementById("chatArea").style.display = "flex";
}

function sendMessage(){
let input = document.getElementById("chatInput");
let msg = input.value;

if(msg.trim() === "") return;

let div = document.createElement("div");
div.className = "message";
div.innerText = msg;

document.getElementById("messages").appendChild(div);
input.value = "";
}

if(localStorage.getItem("logged") === "true"){
startChat();
}

</script>

</body>
</html>
